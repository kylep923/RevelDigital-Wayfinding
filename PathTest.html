<style type="text/css">
    body *
            {
                letter-spacing: 0;
                word-spacing: normal;
                text-decoration: none;
            }

    body
            {
                width: __UP_rdW__px;
                height: __UP_rdH__px;
                overflow: hidden;
            }

    container
            {
                position: relative;
                width: 100%;
                height: 100%;
            }
   
    .map
            {
                width: 85%;
            }

    .btnContainer
            {   
                position: absolute;
                height:100%;
                width: 15%;
                right: 0;
                top:0;
                background-color: blue;
                overflow-y: auto;
            }
    .background 
            {
                background-image: url("https://as1.reveldigital.com/Uploads/370024%21mall_directory_bsm.jpg");
                height: 100%; 
                background-position: center;
                background-repeat: no-repeat;
                background-size: contain;
            }

    button
            {
               width:100%;
               padding: 20px;
               height: 50px;
            }
           
</style>



<div id="container" >
        <div class="map background">

        </div>  
        <div class="btnContainer">
                
        </div> 
                  
</div>

<script type="text/javascript" src="./lib/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="./lib/pathfinding-browser.min.js"></script>
<script type="text/javascript">


        var items = [];


        $.getJSON('https://raw.githubusercontent.com/ShaunHarmon/Wayfinding/master/json/Store.json', function(data){
                items = data;
                window.document.onload = getButtons(items);
        });

        var grid = [];
        $.getJSON('https://raw.githubusercontent.com/ShaunHarmon/Wayfinding/master/json/Grid.json', function(data){
                matrix = data;
                console.log(matrix);
                setGrid(matrix);
        });


       function setGrid(matrix){
        var grid = new PF.Grid(matrix.width, matrix.height);
        var gridmatrix = [];
        for(var key in matrix.nodes){
                //console.log(matrix.nodes[key]);
                var row  = [];
                for(var n in matrix.nodes[key]){
                        
                        if(matrix.nodes[key][n].walkable == true){
                                row.push(0);
                        }else{
                                row.push(1);
                        }
                        
                        //console.log(matrix.nodes[key][n].walkable);
                }
                gridmatrix.push(row);
        }
        //console.log(gridmatrix);
        //var grid = new PF.Grid(gridmatrix);
        console.log(grid);
        var finder = new PF.AStarFinder();
        console.log(finder);
        var path = finder.findPath(1, 2, 4, 2, grid);
        console.log(path);
       }

        function getButtons(items){
                //console.log(items);
                var store = items;
                //console.log(store);
                var ct = 0;
                for (key in store){
                        console.log(store[ct]);
                        $(".btnContainer").append($("<button id=" + store[ct].name + ">" + store[ct].name + "</button>"));
                        //$("button"+ ct).html(store[ct].name);
                        ct++;

                }
        }
</script>

